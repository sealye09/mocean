# 创建型模式

创建型模式处理对象创建机制，增加代码灵活性和可复用性。

---

## 模式列表

| 模式 | 简介 | 文档链接 |
|------|------|---------|
| 单例 | 保证类只有一个实例，提供全局访问点 | [详细文档 →](creational/singleton.md) |
| 原型 | 复制已有对象，无需依赖所属类 | [详细文档 →](creational/prototype.md) |
| 工厂方法 | 定义创建对象的接口，由子类决定实例化类型 | [详细文档 →](creational/factory-method.md) |
| 建造者 | 分步骤创建复杂对象 | [详细文档 →](creational/builder.md) |
| 抽象工厂 | 创建一系列相关或依赖对象的家族 | [详细文档 →](creational/abstract-factory.md) |

---

## 创建型模式对比

### 按使用场景分类

| 场景 | 推荐模式 | 理由 |
|------|---------|------|
| 只需一个实例 | 单例 | 简单直接，全局唯一 |
| 需要复制对象 | 原型 | 避免重复初始化，提高性能 |
| 对象构造复杂 | 建造者 | 分步构建，避免重叠构造函数 |
| 创建产品系列 | 抽象工厂 | 保证产品风格一致 |
| 创建单一产品 | 工厂方法 | 灵活简单，易于扩展 |

### 模式选择决策树

```
需要创建对象
├─ 只需一个实例？
│  └─ 是 → 单例
│  └─ 否 → 继续
├─ 需要复制现有对象？
│  └─ 是 → 原型
│  └─ 否 → 继续
├─ 对象构造复杂（多个参数）？
│  └─ 是 → 建造者
│  └─ 否 → 继续
├─ 需要创建产品系列？
│  └─ 是 → 抽象工厂
│  └─ 否 → 继续Factory Method
└─ 其他 → 工厂方法
```

---

## 模式关系

- **工厂方法是抽象工厂的基础**：抽象工厂通常使用一组工厂方法来实现
- **抽象工厂创建产品族**：可以创建多个相关的对象，保证兼容性
- **建造者构造复杂对象**：可以创建包含多个部件的复杂产品
- **原型避免重复初始化**：通过复制现有对象创建新对象
- **单例可以与其他模式结合**：抽象工厂、建造者等的具体工厂常实现为单例

---

## 模式组合

### 常见组合方式

1. **工厂方法 + 单例**：工厂方法返回单例对象
2. **抽象工厂 + 原型**：使用原型创建产品，而不是使用工厂方法
3. **建造者 + 原型**：建造器中可以使用原型复制复杂部件
4. **抽象工厂 + 单例**：具体工厂通常实现为单例

---

## 代码实现

所有创建型模式都有完整的 TypeScript 实现，位于 `src/` 目录：

### 运行示例

```bash
# 单例模式
ts-node src/Singleton/Conceptual/index.ts

# 原型模式
ts-node src/Prototype/Conceptual/index.ts

# 工厂方法
ts-node src/FactoryMethod/Conceptual/index.ts

# 建造者
ts-node src/Builder/Conceptual/index.ts

# 抽象工厂
ts-node src/AbstractFactory/Conceptual/index.ts
```

---

## 相关资源

- [全部创建型模式详细文档](creational/)
- [设计模式总览](README.md)
- [全部代码实现](../../src)
